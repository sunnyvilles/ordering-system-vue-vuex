(function(e){function t(t){for(var l,a,i=t[0],o=t[1],c=t[2],u=0,p=[];u<i.length;u++)a=i[u],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&p.push(n[a][0]),n[a]=0;for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(e[l]=o[l]);d&&d(t);while(p.length)p.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],l=!0,i=1;i<r.length;i++){var o=r[i];0!==n[o]&&(l=!1)}l&&(s.splice(t--,1),e=a(a.s=r[0]))}return e}var l={},n={app:0},s=[];function a(t){if(l[t])return l[t].exports;var r=l[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=l,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)a.d(r,l,function(t){return e[t]}.bind(null,l));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var d=o;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var l=r("85ec"),n=r.n(l);n.a},"56d7":function(e,t,r){"use strict";r.r(t);var l=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("CurrentOrder")],1)},s=[],a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("h1",{staticClass:"mb-5"},[e._v("Place your Order")]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm"},[r("h2",[e._v("Order Details")]),r("div",{staticClass:"border border-primary p-3"},[r("OrderDetails",{attrs:{orderDetails:e.currentOrder.orderDetails},on:{"order-details-submit":function(t){return e.updateOrderDetails(t)}}})],1)]),r("div",{staticClass:"col-sm"},[r("h2",[e._v("Sellers")]),r("div",{staticClass:"border border-primary p-3"},[r("Sellers")],1)])]),r("br"),r("button",{staticClass:"btn btn-success float-right",attrs:{disabled:e.currentOrder.finalize},on:{click:function(t){return t.preventDefault(),e.onFinalizeOrder(t)}}},[e._v(" Finalize ")]),e.currentOrder.finalize?r("div",[e._v(" This order has been finalized")]):e._e()])},i=[],o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"order-details-container"},[r("form",[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"orderDate"}},[e._v("Order Date")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.order_date,expression:"form.order_date"}],staticClass:"form-control",attrs:{type:"date",id:"orderDate",required:""},domProps:{value:e.form.order_date},on:{input:function(t){t.target.composing||e.$set(e.form,"order_date",t.target.value)}}}),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.isDateValid,expression:"!isDateValid"}]},[e._v("Please choose a Date.")])]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"client"}},[e._v("Client")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.form.client,expression:"form.client"}],staticClass:"form-control",attrs:{id:"client"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"client",t.target.multiple?r:r[0])}}},[r("option"),e._l(e.getClients,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])}))],2),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.isClientValid,expression:"!isClientValid"}]},[e._v("Please choose a client.")])]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"contact"}},[e._v("Contact")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.form.contact,expression:"form.contact"}],staticClass:"form-control",attrs:{id:"contact"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"contact",t.target.multiple?r:r[0])}}},[r("option"),e._l(e.getContacts,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])}))],2),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.isContactValid,expression:"!isContactValid"}]},[e._v("Please choose a contact.")])]),r("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:!e.isFormValid},on:{click:function(t){return t.preventDefault(),e.onSubmit(t)}}},[e._v(" Submit ")])])])},c=[],d=r("2f62"),u={props:{orderDetails:Object},data(){return{orderDetailsCopy:{},form:{order_date:"",client:"",contact:""}}},mounted(){this.fetchClients(),this.fetchContactOfClient(),this.orderDetailsCopy=JSON.parse(JSON.stringify(this.orderDetails))},methods:{...Object(d["b"])(["fetchClients","fetchContactOfClient"]),onSubmit(){this.$emit("order-details-submit",this.form)}},computed:{...Object(d["c"])(["getClients","getContacts"]),isClientValid(){return!!this.form.client},isContactValid(){return!!this.form.contact},isDateValid(){return!!this.form.order_date},isFormValid(){return this.isClientValid&&this.isContactValid&&this.isDateValid}}},p=u,f=r("2877"),m=Object(f["a"])(p,o,c,!1,null,null,null),v=m.exports,h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sellers-container"},[r("form",[e._l(e.addedSellers,(function(t){return[r("Seller",{key:t.objId,attrs:{seller:t,sellers:e.getSellers}})]})),r("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(t){return t.preventDefault(),e.addSeller(t)}}},[e._v(" +Seller ")])],2),e._v(" sellers "+e._s(e.getSellers)+" ")])},C=[],g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"seller"}},[e._v("Sellers")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.currentSeller.seller,expression:"currentSeller.seller"}],staticClass:"form-control",attrs:{name:"seller"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.currentSeller,"seller",t.target.multiple?r:r[0])}}},[r("option"),e._l(e.sellers,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])}))],2),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.isSellerValid,expression:"!isSellerValid"}]},[e._v("Please choose a seller.")])])]),r("div",{staticClass:"col-sm"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"percentage"}},[e._v("Percentage")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.currentSeller.percentage,expression:"currentSeller.percentage"}],staticClass:"form-control",attrs:{step:"0.01",type:"number",name:"percentage",required:""},domProps:{value:e.currentSeller.percentage},on:{input:function(t){t.target.composing||e.$set(e.currentSeller,"percentage",t.target.value)}}}),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.isPercentageValid,expression:"!isPercentageValid"}]},[e._v(" Please choose a percentage value between 0.001 and 100. ")])])])])},b=[],O={props:{sellers:Array,seller:Object},data(){return{percentage:0,currentSeller:{}}},mounted(){this.currentSeller=this.seller},computed:{isPercentageValid(){return!0},isSellerValid(){return!0}}},_=O,S=Object(f["a"])(_,g,b,!1,null,null,null),y=S.exports,w={props:{},data(){return{sellers:[],addedSellers:[],sellerId:0}},mounted(){this.fetchSellers(),this.addSeller()},components:{Seller:y},methods:{addSeller(){let e={objId:this.sellerId,seller:null,percentage:5};this.addedSellers.push(e),this.sellerId=this.sellerId+1},fetchSellers(){return this.$store.dispatch("fetchSellers")}},computed:{getSellers(){return this.$store.getters.getSellers}}},D=w,P=Object(f["a"])(D,h,C,!1,null,null,null),x=P.exports,j={name:"CurrentOrder",data(){return{currentOrderCopy:{}}},components:{OrderDetails:v,Sellers:x},mounted(){this.currentOrderCopy=JSON.parse(JSON.stringify(this.currentOrder))},computed:{currentOrder(){return this.$store.state.currentOrder}},methods:{updateOrderDetails(e){this.currentOrderCopy.orderDetails=e,console.log(this.currentOrderCopy)},onFinalizeOrder(){this.currentOrderCopy.finalize=!0,this.$store.dispatch("finalizeOrder",this.currentOrderCopy)}}},V=j,$=Object(f["a"])(V,a,i,!1,null,null,null),N=$.exports,z=(r("f9e3"),r("2dd8"),{name:"App",components:{CurrentOrder:N}}),k=z,A=(r("034f"),Object(f["a"])(k,n,s,!1,null,null,null)),I=A.exports,J={contacts:[],clients:[],sellers:[],currentOrder:{id:null,orderDetails:{date:"",client:"",contact:""},sellers:[],finalize:!1}},L={getClients:e=>e.clients,getContacts:e=>e.contacts,getCurrentOrder:e=>e.currentOrder,getSellers:e=>(console.log("sellers",e.sellers),e.sellers)},E={fetchClients(e){const t=[{id:1,name:"Client A"},{id:2,name:"Client B"}];e.commit("fetchClients",{clientList:t})},fetchContactOfClient(e){const t=[{id:1,name:"Contact A1"},{id:2,name:"Contact A2"}];e.commit("fetchContactOfClient",{contactList:t})},fetchSellers(e){const t=[{id:1,name:"Seller A"},{id:2,name:"Seller B"},{id:3,name:"Seller C"}];e.commit("fetchSellers",{sellerList:t})},finalizeOrder(e,t){e.commit("finalizeOrder",t)}},F={fetchClients(e,{clientList:t}){e.clients=t},fetchContactOfClient(e,{contactList:t}){e.contacts=t},fetchSellers(e,{sellerList:t}){e.sellers=t},finalizeOrder(e,t){console.log("in  mutat",t),e.currentOrder=t}};l["a"].use(d["a"]);const M=new d["a"].Store({state:J,getters:L,mutations:F,actions:E});var T=M;l["a"].config.productionTip=!1,new l["a"]({el:"#app",store:T,render:e=>e(I)})},"85ec":function(e,t,r){}});
//# sourceMappingURL=app.5a47996a.js.map